# Copy this file to `.env` for local development:
#   cp env.template .env
#
# On Vercel: add these as Project → Settings → Environment Variables (Key/Value).
#
# SECURITY:
# - Never commit `.env`
# - If you ever shared a DB password publicly, RESET it in Supabase and update env vars everywhere.

# =========================
# Database (Prisma / Postgres)
# =========================
# This project uses Prisma with Postgres:
#   prisma/schema.prisma -> datasource db url = env("DATABASE_URL")
#
# Supabase + Prisma reference:
#   https://supabase.com/docs/guides/database/prisma
#
# Recommended for Supabase:
# - DATABASE_URL:
#   - "Session pooler" (IPv4 compatible) for general use, port 5432
#   - OR "Transaction pooler" (better for serverless), port 6543
# - DIRECT_URL:
#   - Direct connection (best for migrations) if you have IPv4 add-on / IPv6 support
#   - Otherwise, use Session pooler (5432) for migrations
#
# From your screenshots (Supabase session pooler):
#   host: aws-1-us-east-1.pooler.supabase.com
#   database: postgres
#   user format: postgres.<PROJECT_REF>  (example below uses your project ref)
#
# ✅ Put these in Vercel Environment Variables:
#   - Key: DATABASE_URL
#   - Key: DIRECT_URL (optional but recommended)
#
# NOTE: Replace <DB_PASSWORD> with your Supabase database password (reset it if you leaked it).

# Option A (Session pooler / IPv4, port 5432) — works for Vercel
DATABASE_URL="postgresql://postgres.mtmiqdewoajyfbugzzrk:<DB_PASSWORD>@aws-1-us-east-1.pooler.supabase.com:5432/postgres"

# Option B (Transaction pooler / serverless, port 6543)
# DATABASE_URL="postgresql://postgres.mtmiqdewoajyfbugzzrk:<DB_PASSWORD>@aws-1-us-east-1.pooler.supabase.com:6543/postgres"

# Migrations URL (prefer direct if possible; otherwise use Session pooler 5432)
DIRECT_URL="postgresql://postgres.mtmiqdewoajyfbugzzrk:<DB_PASSWORD>@aws-1-us-east-1.pooler.supabase.com:5432/postgres"

# =========================
# One-off SQLite → Postgres migration script (optional)
# =========================
SQLITE_DATABASE_URL="file:./prisma/dev.db"
MIGRATION_BATCH_SIZE="500"

# =========================
# Auth
# =========================
# Use a long random string. Example:
#   openssl rand -base64 48
JWT_SECRET="CHANGE_ME"

# =========================
# AI (Gemini)
# =========================
# Do NOT include quotes or spaces around '=' in .env
GEMINI_API_KEY=""

# =========================
# AWS S3 (uploads)
# =========================
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET_NAME=""

# =========================
# SMTP / Email
# =========================
# Providers supported by this codebase:
# - mailjet | sendpulse | sendgrid | gmail | elastic | custom
SMTP_PROVIDER="mailjet"
SMTP_HOST=""
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM=""
SMTP_FROM_NAME="CRM System"

# Provider-specific optional vars (fallbacks used by code)
MAILJET_API_KEY=""
MAILJET_API_SECRET=""
SENDPULSE_USER_ID=""
SENDPULSE_SECRET=""
SENDGRID_API_KEY=""
ELASTIC_USERNAME=""
ELASTIC_API_KEY=""

# Gmail OAuth (used by `src/lib/gmail.ts`)
GMAIL_CLIENT_ID=""
GMAIL_CLIENT_SECRET=""
GMAIL_REFRESH_TOKEN=""

# Gmail SMTP optional (used if SMTP_PROVIDER=gmail)
GMAIL_USER=""
GMAIL_APP_PASSWORD=""

# =========================
# Vercel (optional)
# =========================
# RUN_MIGRATIONS controls scripts/vercel-migrate.js behavior.
# - Vercel sets VERCEL_ENV automatically
# - If you want migrations to run in Preview deployments too:
RUN_MIGRATIONS="0"


